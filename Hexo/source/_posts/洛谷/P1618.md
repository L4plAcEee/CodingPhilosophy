## Daily::算法 @[P1618 三连击（升级版）](https://www.luogu.com.cn/problem/P1618)
### 思路
就是暴力啊
> 将 1,2,…,9 共 9 个数分成三组，分别组成三个三位数，且使这三个三位数的比例是 A:B:C，试求出所有满足条件的三个三位数，若无解，输出 `No!!!`。

就先生成三组数字，然后判断是否合法。
过程应该可以剪枝，比如第二组开始就可以判断了。

### 解
#### 代码
```cpp
int A, B, C;
int group[3];
int used[10] = {0};
vector<string> res;

void f(int idx) {
    if (idx == 3) {
        if (group[0] * B == group[1] * A && group[1] * C == group[2] * B) {
            string ans;
            ans += to_string(group[0]) + " " + to_string(group[1]) + " " + to_string(group[2]);
            res.push_back(ans);
        }
        return;
    }
    
    for (int i = 100; i <= 999; ++i) {
        int d3 = i / 100;        
        int d2 = (i / 10) % 10;      
        int d1 = i % 10;       
        if (d1 * d2 * d3 == 0) continue;
        if (d1 == d2 || d2 == d3 || d1 == d3) continue;
        if (used[d1] ||  used[d2] || used[d3]) continue;
        used[d1] = 1;
        used[d2] = 1;
        used[d3] = 1;     
        group[idx] = i;
        f(idx + 1);
        used[d1] = 0;
        used[d2] = 0;
        used[d3] = 0;
    }
}

int32_t main() {
    cin >> A >> B >> C;
    f(0);
    if (res.empty()) cout << "No!!!" << '\n';
    else {
        for (auto ans : res) {
            cout << ans << '\n';
        }
    }

    return 0;
}
```


#### 更优雅的实现
```cpp
int A, B, C, used[10], group[3];
vector<string> res;

void dfs(int idx) {
    if (idx == 3) {
        if (group[0] * B == group[1] * A && group[1] * C == group[2] * B)
            res.push_back(to_string(group[0]) + " " + to_string(group[1]) + " " + to_string(group[2]));
        return;
    }
    
    for (int i = 100; i <= 999; ++i) {
        int d[] = {i % 10, i / 10 % 10, i / 100};
        if (d[0] && d[1] && d[2] && d[0] != d[1] && d[1] != d[2] && d[0] != d[2] && 
            !used[d[0]] && !used[d[1]] && !used[d[2]]) {
            used[d[0]] = used[d[1]] = used[d[2]] = 1;
            group[idx] = i;
            dfs(idx + 1);
            used[d[0]] = used[d[1]] = used[d[2]] = 0;
        }
    }
}

int main() {
    cin >> A >> B >> C;
    dfs(0);
    if (res.empty()) cout << "No!!!\n";
    else for (auto& s : res) cout << s << '\n';
    return 0;
}
```

---

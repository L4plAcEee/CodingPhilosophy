## Daily::算法 @[P1255 数楼梯](https://www.luogu.com.cn/problem/P1255)
### 题目描述
楼梯有 N 阶，上楼可以一步上一阶，也可以一步上二阶。

编一个程序，计算共有多少种不同的走法。

### 思路
经典DP

### 提交#0 <-50pt.
判断可能是溢出问题，改用int64看看

### 提交#1 <-60pt.
开到uint64也过不了？艹了。
看了一眼 N == 50 的情况
`cur = 20365011074`
看来要用高精度加法了。

### 提交#2 <-AC
#### 关键代码
```cpp
string string_plus(string &a, string &b) {
    int i = a.length() - 1, j = b.length() - 1;
    int carry = 0;
    string ret = string(max(a.length(), b.length()) + 1, '0');
    int k = ret.length() - 1;

    while (i >= 0 || j >= 0 || carry) {
        int digitA = i >= 0 ? a[i--] - '0' : 0;
        int digitB = j >= 0 ? b[j--] - '0' : 0;
        int res = digitA + digitB + carry;
        ret[k--] = res % 10 + '0';
        carry = res / 10;
    }

    if (ret[0] == '0') return ret.substr(1);
    return ret;
}
void solve() {
    cin >> N;
    if (N <= 2) {
        cout << N << '\n';
        return;
    }
    string pre = "2", preX2 = "1", cur;
    for (int i = 3; i <= N; ++i) {
        cur = string_plus(pre, preX2);
        preX2 = pre;
        pre = cur;
        #ifdef LOCAL
        dbg(cur);
        #endif
    }
    cout << cur << '\n';
}
```

#### 关键点
##### 段错误问题
你这段程序是为了**求大数斐波那契数列的第 N 项**，使用字符串加法 `string_plus` 来处理超出 `unsigned long long` 的情况，这种做法是完全合理的。

但你遇到的段错误 `Segmentation fault` 很可能是由以下一行代码引起的：

`#define int unsigned long long`

这句宏定义会把你所有的 `int` 替换为 `unsigned long long`，**包括用于索引字符串的变量，如 `i`, `j`, `k`。**



---

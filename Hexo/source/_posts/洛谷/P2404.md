---
笔记: 2025-06-28
摘要: 
tags:
  - 题解
---
## P2404 [自然数的拆分问题](https://www.luogu.com.cn/problem/P2404)
### 思路
dfs搜索树形解空间
每层以：
```cpp
for (int i = num; i + sum <= n && i < n; ++i) {
	path.push_back(i);
	dfs(sum + i, i);
	path.pop_back();
}
```
自增构建解路径，天然具有字典序结构，且以上一层的num为起点，这样的结构还可以去重。
> 即防止 形如 `1 + 1 + 2` 和 `1 + 2 + 1` 的答案同时出现
### 解
```cpp
int n;
vector<int> path;

void dfs(int sum, int num) {
    if (sum == n)
        for (int i = 0; i < path.size(); ++i) 
            cout << path[i] << (i == path.size() - 1 ? '\n' : '+');

    for (int i = num; i + sum <= n && i < n; ++i) {
        path.push_back(i);
        dfs(sum + i, i);
        path.pop_back();
    }
}

int main() {
    cin >> n;
    dfs(0, 1);
}
```
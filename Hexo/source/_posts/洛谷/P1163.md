## Daily::算法 @[P1163 银行贷款](https://www.luogu.com.cn/problem/P1163)
### 思路
> 当一个人从银行贷款后，在一段时间内他（她）将不得不每月偿还固定的分期付款。这个问题要求计算出贷款者向银行支付的利率。假设利率按月累计。

还是二分答案，只不过二分的单位以 0.1% 计数？

### 解
#### 关键错误
1. **数据精度问题**
`int money = w_0; money *= ratio;`

此处 `money` 是 `int` 类型，而 `ratio` 是 `double`，类型混
用会导致精度不够或溢出。
2. 浮点数判 0 要有一点容忍值
`if (money <= 1e-6) return true;`
#### 代码
```cpp
int w_0, w, m;

bool check(int ans) {
    double ratio = 1 + (double)ans / 10000.0;
    double money = w_0;
    for (int i = 1; i <= m; ++i) {
        money *= ratio;
        money -= w;
        if (money <= 1e-6) return true;
    }
    return false;
}

int32_t main() {
    cin >> w_0 >> w >> m;
    int l = 0, r = 30000;
    while (l <= r) {
        int mid = (r - l) / 2 + l;
        if (check(mid)) {
            l = mid + 1;
        } else {
            r = mid - 1;
        }
    }
    double ans = r / 100.0;
    cout << fixed << setprecision(1) << ans << '\n';
}
```


## Daily::每日一题
### [P1249 最大乘积](https://www.luogu.com.cn/problem/P1249)

#### 题目描述

一个正整数一般可以分为几个互不相同的自然数的和，如 $3=1+2$，$4=1+3$，$5＝1+4=2+3$，$6=1+5＝2+4$。

现在你的任务是将指定的正整数 $n$ 分解成若干个互不相同的自然数（也可以不分解，就是这个数字本身）的和，且使这些自然数的乘积最大。

#### 输入格式

只一个正整数 $n$，（$3 \leq n \leq 10000$）。

#### 输出格式

第一行是分解方案，相邻的数之间用一个空格分开，并且按由小到大的顺序。

第二行是最大的乘积。

### 解题思路
#### 朴素想法
一开始想到 DFS暴力打表 ＋ 找规律：
![](https://l4p-bucket-1.oss-cn-shenzhen.aliyuncs.com/img/9971c064068ad105649ee554e91c251c_MD5.jpeg)
tmd 这谁看的出来有什么规律
#### 迭代一
遂摇 AI 求助

![](https://l4p-bucket-1.oss-cn-shenzhen.aliyuncs.com/img/4a386ad715410cf20cc9c7bf5d8204ae_MD5.jpeg)

md，看来是我想多了
正解应该就是 dfs + 剪枝了。

- **剪枝优化的 DFS**
	我们可以使用 DFS + 回溯 来枚举所有递增组合，过程中记录最大乘积方案。
	
	关键点在于：
	
	- 避免重复：每一层从上一次的数字 `+1` 开始；
	- 提前终止：如果当前路径和超过 `n`，就立即回溯；
	- 保存当前最大值和路径。

补兑！TLE 了！
看来正解布什这个。

### 正解

#### **数学构造 + 贪心优化**

**不用枚举所有组合，而是直接构造一个乘积最大的“互不相同的自然数和为 n”的序列**。

#### 核心思路

目标是：把 `n` 拆分成**互不相同**的自然数，使得乘积最大。

这与「均匀拆分」相关。因为在互不相同的前提下，**数值越平均，乘积越大**。

先打表看看规律：

![](https://l4p-bucket-1.oss-cn-shenzhen.aliyuncs.com/img/9971c064068ad105649ee554e91c251c_MD5.jpeg)

我们观察到，大部分分解出来的数都是较为**连续**的。

#### 得出结论

考虑这样一种**贪心**策略：

首先构造出连续一段自然数，使得和**恰好**大于或等于 n ，然后找到一个合适的数并更改（如果等于 n 就不更改），使得和满足要求。

例如分解一个数 15 ：

- 首先找到连续一段自然数序列： (2+3+4+5) <= 15
	- 为什么要从 2 开始而不是 3 或更大？因为 1 对乘积没有贡献，但是却占去了 1 的累加和!
- 发现 2+3+4+5 == 14 ，恰好与 15 相差 1
- 在序列中找到第一个相加后不重复的数并加上差值（因为构造的序列本身就是有序的）


**注意**：当 n=3,4 时并不符合上述的贪心策略，需要特判。
**时间复杂度**：$O(\sqrt{n})$ 构造 + $O(n​)$ 乘积计算

---

<p align='center'><small> version.v2 </small></p>

# CHANGELOG
---
## <2025-04-17>
- LREANING 模块新增 每日一题模板
## <2025-04-13>
- 新增每日日程，将一些固定的日程直接写入模板中

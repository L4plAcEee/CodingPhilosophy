## Daily::算法 @[P2241 统计方形（数据加强版）](https://www.luogu.com.cn/problem/P2241)
~~前缀和优化枚举~~
动态规划

### 勘误
你的代码整体思路是对的，试图通过动态规划的方式分别统计：

- `dp_a[i][j]`: 以 (i,j)(i,j)(i,j) 为右下角的**正方形**个数（你代码里是所有正方形数量，其实可以更简洁处理）；
    
- `dp_b[i][j]`: 以 (i,j)(i,j)(i,j) 为右下角的**所有矩形**个数（包括正方形）；
    

但你当前代码中两个 DP 的构建逻辑过于复杂，甚至错误地混合了“是否相等”条件，导致结果错误。
#### ✅ 目标

我们需要：

1. 用 DP 计算 **正方形个数**（`dp_a`）
    
2. 用 DP 计算 **所有矩形个数**（`dp_b`）
    
3. 然后用：矩形总数 - 正方形数 = 非正方形矩形数
### 解
![](https://l4p-bucket-1.oss-cn-shenzhen.aliyuncs.com/img/a6d4239fe9eee16e66ec730293e02f2d_MD5.jpeg)

```cpp
int n, m;

int main() {
    cin >> n >> m;
    long long sum_a = 0, sum_b = 0;

    for (int i = 1; i <= n; ++i) {
        for (int j = 1; j <= m; ++j) {
            sum_a += min(i, j); 
            sum_b += i * j;
        }
    }

    cout << sum_a << " " << (sum_b - sum_a) << endl;
    return 0;
}
```

---

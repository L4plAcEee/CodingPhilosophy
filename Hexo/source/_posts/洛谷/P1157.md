## Daily::算法 @[P1157 组合的输出](https://www.luogu.com.cn/problem/P1157)

### 解
#### 小错误
你的代码已经实现了去重，但有一个小问题。让我分析一下当前的实现和如何优化：

**当前代码的问题：** 你的代码中 `dfs(idx + 1, start + 1)` 这里应该是 `dfs(idx + 1, i + 1)`，因为下一层搜索应该从当前选择的数字之后开始，而不是从 `start + 1` 开始。


#### 代码
```cpp
int n, r, a[30], used[22] = {0};

void dfs(int idx, int start) {
    if (idx == r) {
        for (int i = 0; i < r; ++i) {
            cout << setw(3) << a[i];
        }
        cout << '\n';
        return ;
    }
    for (int i = start; i <= n; ++i) {
        if (used[i] == 1) continue;
        used[i] = 1;
        a[idx] = i;
        dfs(idx + 1, i + 1);
        used[i] = 0;
    }
}

int32_t main() {
    cin >> n >> r;
    dfs(0, 1);
    return 0;
}
```

#### 优化
因为使用了 start 维护下一个开始数字，所以不需要used数组
```cpp
int n, r, a[30];

void dfs(int idx, int start) {
    if (idx == r) {
        for (int i = 0; i < r; ++i) {
            cout << setw(3) << a[i];
        }
        cout << '\n';
        return;
    }
    
    for (int i = start; i <= n; ++i) {
        a[idx] = i;
        dfs(idx + 1, i + 1);  // 关键：下次从 i+1 开始，确保不重复
    }
}

int32_t main() {
    cin >> n >> r;
    dfs(0, 1);
    return 0;
}
```

---
